"use strict";function getList1(){$.ajax({url:"../lib/nav_top.json",dataType:"json",success:function(l){var t="";l.forEach(function(n){t+="<li>".concat(n.name,"</li>")}),$(".nav_top >ul").html(t).on({mouseenter:function(){return $(".nav_box").stop().slideDown()},mouseleave:function(){return $(".nav_box").stop().slideUp()}}).children("li").on("mouseover",function(){var n=$(this).index(),t=l[n].list,i="";t.forEach(function(n){i+='\n                         <li>\n                            <div>\n                            <img src="'.concat(n.list_url,'" alt="">\n                            </div>\n                            <p class="title">').concat(n.list_name,'</p>\n                            <span class="price">').concat(n.list_price,"</span>\n                        </li>\n                         ")}),$(".nav_box > ul").html(i)}),$(".nav_box").on({mouseover:function(){$(this).finish().show()},mouseout:function(){$(this).finish().slideUp()}})}})}getList1();var currPage=1;function getList(){$.ajax({url:"../lib/list.json",dataType:"json",success:function(i){$(".pagi").pagination({pageCount:Math.ceil(i.length/16),current:1,jump:!0,coping:!0,homePage:"首页",endPage:"末页",prevContent:"上页",nextContent:"下页",callback:function(n){currPage=n.getCurrent();var t=i.slice(16*(currPage-1),16*currPage);console.log(t),bindHtml(t)}}),bindHtml(i.slice(0,16)),list1=i}})}function bindHtml(n){var t="";n.forEach(function(n){t+="\n        <li data-id='".concat(n.list_id,"'>\n        <img src=\"").concat(n.list_url,'" alt="">\n        <a href="">').concat(n.list_name,"</a>\n        <p>￥").concat(n.list_price,'元</p>\n        <img src="').concat(n.list_url,'" alt="">\n    </li>\n        ')}),$(".box>ul").html(t)}getList();var flag=!0,list1=[];$(".sort").on("click",function(){flag=!flag,list1.sort(function(n,t){return!0===flag?($("em").attr("class","glyphicon glyphicon-arrow-up"),n.list_price-t.list_price):($("em").attr("class","glyphicon glyphicon-arrow-down"),t.list_price-n.list_price)}),$(".pagi").pagination({pageCount:Math.ceil(list1.length/12),current:1,jump:!0,coping:!0,homePage:"首页",endPage:"末页",prevContent:"上页",nextContent:"下页",callback:function(n){currPage=n.getCurrent(),bindHtml(list1.slice(12*(currPage-1),12*currPage))}}),bindHtml(list1.slice(0,12))}),$(".box > ul").on("click","li",function(){for(var n=$(this).data("id"),t={},i=0;i<list1.length;i++)if(list1[i].list_id===n){t=list1[i];break}localStorage.setItem("info",JSON.stringify(t)),window.location.href="../pages/detail.html"}),$(".nav").on("click","li",function(){event.stopPropagation(),window.location.href="../pages/list.html"});